# Программная реализация следующих шифров

1) **Шифр Цезаря** (как пример моноалфавитных шифров)
2) **Шифр перестановки** (как пример моноалфавитных шифров)
3) **Шифр замены** (как пример моноалфавитных шифров)
4) **Шифр Виженера** (как пример полиалфавитного шифра)
5) Структуру и процесс шифрования в роторной машине **Энигма**.   

## Шифр Цезаря
Один из наиболее древнейших известных шифров. 
Схема шифрования очень проста — используется сдвиг буквы алфавита на фиксированное число позиций. 
Используемое преобразование обычно обозначают как `ROTN`, где `N` — сдвиг, `ROT` — сокращение от слова ROTATE, в данном случае «циклический сдвиг».

## Шифр перестановки
Это метод симметричного шифрования, в котором элементы исходного открытого текста меняют местами. 
Элементами текста могут быть отдельные символы (самый распространённый случай), пары букв, тройки букв, комбинирование этих случаев и так далее.

## Шифр замены
Шифр простой замены, простой подстановочный шифр, моноалфавитный шифр — класс методов шифрования, которые сводятся к созданию по определённому алгоритму таблицы шифрования, в которой для каждой буквы открытого текста существует единственная сопоставленная ей буква шифр-текста. 
Само шифрование заключается в замене букв согласно таблице. Для расшифровки достаточно иметь ту же таблицу, либо знать алгоритм, по которому она генерируется.

## Шифр Виженера
Метод полиалфавитного шифрования буквенного текста с использованием ключевого слова.

В шифре Цезаря каждая буква алфавита сдвигается на несколько позиций; 
например в шифре Цезаря при сдвиге `+3`, `A` стало бы `D`, `B` стало бы `E` и так далее. 
Шифр Виженера состоит из последовательности нескольких шифров Цезаря с различными значениями сдвига. 
Для зашифровывания может использоваться таблица алфавитов, называемая `tabula recta` или квадрат (таблица) Виженера. 
Применительно к латинскому алфавиту таблица Виженера составляется из строк по 26 символов, причём каждая следующая строка сдвигается на несколько позиций.
Таким образом, в таблице получается 26 различных шифров Цезаря. На каждом этапе шифрования используются различные алфавиты, выбираемые в зависимости от символа ключевого слова.

Например, предположим, что исходный текст имеет такой вид:
```
ATTACKATDAWN
```
Человек, посылающий сообщение, записывает ключевое слово (`«LEMON»`) циклически до тех пор, пока его длина не будет соответствовать длине исходного текста:
```
LEMONLEMONLE
```

Первый символ исходного текста (`«A»`) зашифрован последовательностью `L`, которая является первым символом ключа. 
Первый символ зашифрованного текста (`«L»`) находится на пересечении строки `L` и столбца `A` в таблице Виженера. 
Точно так же для второго символа исходного текста используется второй символ ключа; то есть второй символ зашифрованного текста (`«X»`) получается на пересечении строки `E` и столбца `T`. 
Остальная часть исходного текста шифруется подобным способом.
```
Исходный текст:       ATTACKATDAWN
Ключ:                 LEMONLEMONLE
Зашифрованный текст:  LXFOPVEFRNHR
```
Расшифровывание производится следующим образом: 
- Находим в таблице Виженера строку, соответствующую первому символу ключевого слова. 
- В данной строке находим первый символ зашифрованного текста. 
- Столбец, в котором находится данный символ, соответствует первому символу исходного текста. 

Следующие символы зашифрованного текста расшифровываются подобным образом.

## Структуру и процесс шифрования в роторной машине Энигма

Машина “Энигма” — это шифровальная машина, которая использовала роторы для создания многослойного шифрования текста. Работа машины основывается на последовательном прохождении сигнала (символа) через несколько компонентов:

1. **Роторы** — это диски с контактами, соединенными проводами, которые меняют буквы на основе заданного шифра.
2. **Отражатель** — проводит ток обратно через роторы, изменяя направление тока и делая шифрование обратимым.
3. **Позиции роторов** — каждый ротор может вращаться, и его положение изменяется после ввода каждой буквы, создавая динамическую систему шифрования.

### Пояснение кода:

#### Класс Rotor

Класс Rotor моделирует один ротор машины “Энигма”. Каждый ротор имеет:

- **Проводку (`wiring`)** — строку из 26 букв, представляющую перестановку символов.
- **Позицию “щелчка” (`notch`)** — положение, при котором ротор передает вращение следующему ротору.
- **Текущую позицию (`position`)** — которая изменяется при вращении ротора.

##### Методы:

- `encode_forward` и `encode_backward` — обеспечивают шифрование символа при прохождении через ротор в прямом и обратном направлениях.
- `rotate` — отвечает за вращение ротора и возвращает True, если ротор достиг “щелчка”, передавая вращение следующему ротору.

#### Класс Reflector

Класс Reflector моделирует отражатель, который возвращает сигнал обратно через роторы, что делает шифрование обратимым.

##### Метод:

- `reflect` находит букву в проводке и возвращает ее, имитируя, как отражатель перенаправляет ток.

#### Класс EnigmaMachine

Основной класс EnigmaMachine объединяет роторы и отражатель, обрабатывая последовательное шифрование текста.

##### Методы:

- `encode_character` обрабатывает последовательное прохождение символа через роторы, отражатель и снова через роторы.
- `step_rotors` управляет вращением роторов, начиная с первого, и передает вращение следующему, если достигается “щелчок”.
- `encode_message` шифрует все сообщение, шаг за шагом поворачивая роторы и шифруя каждый символ.

### Пример использования

В этом примере создается машина “Энигма” с тремя роторами и отражателем. 
Мы шифруем сообщение и затем дешифруем его, возвращая роторы в исходное положение.

#### Результат

- Зашифрованное сообщение получается путем шифрования исходного текста.
- Расшифрованное сообщение — это исходный текст, полученный при повторном прохождении зашифрованного текста через машину, благодаря обратимости “Энигмы”.

Эта структура позволяет “Энигме” шифровать и дешифровать сообщения, меняя шифр при каждом вводе символа, что делает систему стойкой против простых криптоанализов.
